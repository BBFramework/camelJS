<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="user-scalable=no, width=device-width" />
<link href="../../style.css" rel="stylesheet" type="text/css" media="all" />
<style type="text/css">
html, body 
{
	overflow: hidden;
}
</style>
<script src="../../camel.js" type="text/javascript"></script>
<script src="../../glmatrix-2.0.js" type="text/javascript"></script>
<script id="vertex-shader" type="x-shader/x-vertex">
	attribute vec3 positionIn;
	attribute vec3 normalIn;
	attribute vec2 texCoordIn;
	uniform mat4 pMatrix;
	uniform mat4 vMatrix;
	uniform mat4 mMatrix;
	varying vec2 texCoordOut;
	varying vec3 normalOut;
	varying vec3 viewOut;
	
	void main(void) 
	{
		gl_Position = pMatrix * vMatrix * mMatrix * vec4(positionIn, 1.0);
		texCoordOut = texCoordIn;
		normalOut = vec3(mMatrix * vec4(normalIn, 0.0));
		viewOut = vec3(vMatrix * mMatrix * vec4(positionIn, 1.0));
	}
</script>
<script id="fragment-shader" type="x-shader/x-fragment">
	precision mediump float;
	uniform sampler2D sampler;
	varying vec2 texCoordOut;
	varying vec3 normalOut;
	varying vec3 viewOut;
	
	const vec3 source_ambient_color = vec3(1.0, 1.0, 1.0);
	const vec3 source_diffuse_color = vec3(1.0, 1.0, 1.0);
	const vec3 source_specular_color = vec3(1.0, 1.0, 1.0);
	const vec3 source_direction = vec3(0.0, 0.0, 1.0);

	const vec3 mat_ambient_color = vec3(0.3, 0.3, 0.3);
	const vec3 mat_diffuse_color = vec3(1.0, 1.0, 1.0);
	const vec3 mat_specular_color = vec3(1.0, 1.0, 1.0);
	const float mat_shininess = 10.0;
	const float mat_alpha = 0.5;

	void main(void) 
	{
		vec3 color = vec3(texture2D(sampler, texCoordOut));
		vec3 ambient = source_ambient_color * mat_ambient_color;
		vec3 diffuse = source_diffuse_color * mat_diffuse_color * max(0.0, dot(normalOut, source_direction));
		vec3 Eye = normalize(viewOut);
		vec3 N = reflect(source_direction, normalOut);
		vec3 specular = source_specular_color * mat_specular_color * pow(max(dot(N, Eye), 0.0), mat_shininess);
		vec3 light = ambient + diffuse + specular;
		gl_FragColor = vec4(color * light, mat_alpha);
	}
</script>
<script id="tex-vertex-shader" type="x-shader/x-vertex">
	attribute vec3 positionIn;
	attribute vec2 texCoordIn;
	uniform mat4 pMatrix;
	uniform mat4 vMatrix;
	uniform mat4 mMatrix;
	varying vec2 texCoordOut;
	void main(void) 
	{
		gl_Position = pMatrix * vMatrix * mMatrix * vec4(positionIn, 1.0);
		texCoordOut = texCoordIn;
	}
</script>
<script id="tex-fragment-shader" type="x-shader/x-fragment">
	precision mediump float;
	uniform sampler2D sampler;
	varying vec2 texCoordOut;
	
	const float mat_alpha = 1.0;
	
	void main(void) 
	{
		vec3 color = texture2D(sampler, texCoordOut);
		gl_FragColor = vec4(color, mat_alpha);
	}
</script>
<script src="script.js" type="text/javascript"></script>
<title>Camel.js | Bapquad Games | bapquadgames.com</title>
</head>

<body onload="init()">
<div>
	<canvas id="Camel" width="768" height="480" style="display:block;"></canvas>
	<canvas id="Camel2" width="768" height="480" style="display:block;"></canvas>
</div>
</body>
</html>